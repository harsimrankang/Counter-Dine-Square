{"version":3,"sources":["logo.svg","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/SignOut/index.js","components/Login/index.js","components/SignUp/index.js","components/Navigation/NavAuth.js","components/Navigation/index.js","components/navbar.js","components/AddItems.js","components/AddBalance.js","components/vendorcartpage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","doSignOut","signOut","user","uid","db","ref","users","app","initializeApp","this","database","storage","functions","filterItems","httpsCallable","addToCart","showCart","type","className","onClick","INITIAL_STATE","error","SignInFormBase","onSubmit","event","state","then","authUser","console","log","setState","history","push","catch","preventDefault","onChange","target","name","value","isInvalid","class","placeholder","disabled","message","SignInGoogleBase","doSignInWithGoogle","socialAuthUser","set","username","displayName","roles","SignInFacebookBase","doSignInWithFacebook","additionalUserInfo","profile","SignInForm","doSignInWithTwitter","withRouter","SignIn","passwordOne","passwordTwo","balance","SignUpFormBase","NavAuth","to","SignOut","Navigation","fetchedData","items","vendors","selectedVendor","allSizes","selectedSizes","unselectedSizes","selectedCategories","searchedCategories","allCategories","addToSelectedPrices","item","i","length","splice","addToSelectedCategories","categories","addNewCategory","document","getElementById","updates","child","key","update","alert","addNewSize","addNewVendor","dataListener","on","snapshot","res","val","Object","keys","forEach","id","deleteItem","remove","fetchData","processCategoryInput","input","toUpperCase","flag","values","obj","j","l","removeFromCategory","removeFromSelectedSizes","validateData","vendor","sizes","sendItem","time","veg","checked","prices","size","price","menuCategories","itemData","enabled","showData","map","category","showSelectedCategories","showSelectedVendor","showVendors","for","onKeyUp","search","activeKey","check","a","b","toLowerCase","includes","fetchDetails","once","parseInt","userKey","data-toggle","data-target","style","height","data-backdrop","tabindex","role","aria-labelledby","aria-hidden","keyboard","data-dismiss","addBalance","showModal","showDetails","display","data","orderVerified","inputs","fetchCart","fetchItems","showItems","ItemsToPrepare","cartKey","otp","orderPickedUp","itemKey","priceKey","ready","taken","itemReady","fetchVendors","userId","userData","fetchUserData","onAuthStateChanged","fetchUserName","basename","path","Login","SignUp","Boolean","window","location","hostname","match","ReactDOM","render","Provider","navigator","serviceWorker","registration","unregister"],"mappings":"+IAAAA,EAAOC,QAAU,IAA0B,kC,mJCCrCC,G,YAAkBC,IAAMC,cAAc,OAE/BC,EAAe,SAAAC,GAAS,OAAI,SAAAC,GAAK,OAC1C,kBAACL,EAAgBM,SAAjB,MACK,SAAAC,GAAQ,OAAI,kBAACH,EAAD,iBAAeC,EAAf,CAAsBE,SAAUA,UAItCP,I,iBCHXQ,G,wBAAiB,CACnBC,OAAQ,0CACRC,WAAY,yCACZC,YAAa,gDACbC,UAAW,yBACXC,cAAe,qCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBCZFC,EDgBb,aAAe,IAAD,gCAWdC,iCAAmC,SAACC,EAAOC,GAAR,OACjC,EAAKC,KAAKC,+BAA+BH,EAAOC,IAZpC,KAadG,6BAA+B,SAACJ,EAAOC,GAAR,OAC7B,EAAKC,KAAKG,2BAA2BL,EAAOC,IAdhC,KAedK,gBAAkB,SAAAN,GAAK,OAAI,EAAKE,KAAKK,uBAAuBP,IAf9C,KAgBdQ,iBAAmB,SAAAP,GAAQ,OAAI,EAAKC,KAAKO,YAAYC,eAAeT,IAhBtD,KAkBdU,UAAY,kBAAM,EAAKT,KAAKU,WAlBd,KAmBdC,KAAO,SAAAC,GAAG,OAAI,EAAKC,GAAGC,IAAR,gBAAqBF,KAnBrB,KAoBdG,MAAQ,kBAAM,EAAKF,GAAGC,IAAI,UAnBxBE,IAAIC,cAAc9B,GAClB+B,KAAKlB,KAAOgB,IAAIhB,OAChBkB,KAAKL,GAAKG,IAAIG,WACdD,KAAKE,QAAUJ,IAAII,UACnBF,KAAKG,UAAYL,IAAIK,YACrBH,KAAKI,YAAcJ,KAAKG,UAAUE,cAAc,eAChDL,KAAKM,UAAYN,KAAKG,UAAUE,cAAc,aAC9CL,KAAKO,SAAWP,KAAKG,UAAUE,cAAc,a,gBEpBlCzC,KAJO,SAAC,GAAD,IAAGI,EAAH,EAAGA,SAAH,OAClB,4BAAQwC,KAAK,SAASC,UAAU,eAAeC,QAAS1C,EAASuB,WAAjE,eCUEoB,EAAgB,CAClB/B,MAAO,GACPC,SAAU,GACV+B,MAAO,MAELC,E,kDACF,WAAY/C,GAAQ,IAAD,8BACf,cAAMA,IAGVgD,SAAW,SAAAC,GAAU,IAAD,EACY,EAAKC,MAAzBpC,EADQ,EACRA,MAAOC,EADC,EACDA,SACf,EAAKf,MAAME,SACNgB,6BAA6BJ,EAAOC,GACpCoC,MAAK,SAACC,GACHC,QAAQC,IAAI,aAEZ,EAAKC,SAAS,CAAET,MAAO,OACvB,EAAK9C,MAAMwD,QAAQC,KAAK,kBAE3BC,OAAM,SAAAZ,GACH,EAAKS,SAAS,CAAET,aAExBG,EAAMU,kBAjBS,EAmBnBC,SAAW,SAAAX,GACP,EAAKM,SAAL,eAAiBN,EAAMY,OAAOC,KAAOb,EAAMY,OAAOE,SAlBlD,EAAKb,MAAL,eAAkBL,GAFH,E,qDAsBT,IAAD,EAC8BX,KAAKgB,MAAhCpC,EADH,EACGA,MAAOC,EADV,EACUA,SAAU+B,EADpB,EACoBA,MACnBkB,EAAyB,KAAbjD,GAA6B,KAAVD,EACrC,OACI,0BAAMkC,SAAUd,KAAKc,UACjB,yBAAKiB,MAAM,uCACP,yBAAKA,MAAM,SACP,2BACIH,KAAK,QACLG,MAAM,cACNF,MAAOjD,EACP8C,SAAU1B,KAAK0B,SACflB,KAAK,OACLwB,YAAY,kBAEhB,2BACIJ,KAAK,WACLG,MAAM,cACNF,MAAOhD,EACP6C,SAAU1B,KAAK0B,SACflB,KAAK,WACLwB,YAAY,aAEhB,4BACID,MAAM,8BACNE,SAAUH,EACVtB,KAAK,UAHT,SAQCI,GAAS,2BAAIA,EAAMsB,gB,GAtDfrE,aA8DvBsE,E,kDACF,WAAYrE,GAAQ,IAAD,8BACf,cAAMA,IAGVgD,SAAW,SAAAC,GACP,EAAKjD,MAAME,SACNoE,qBACAnB,MAAK,SAAAoB,GACF,OAAO,EAAKvE,MAAME,SAASyB,KAAK4C,EAAe5C,KAAKC,KAAK4C,IAAI,CACzDC,SAAUF,EAAe5C,KAAK+C,YAC9B5D,MAAOyD,EAAe5C,KAAKb,MAC3B6D,MAAO,QAGdxB,MAAK,WACF,EAAKI,SAAS,CAAET,MAAO,UAE1BY,OAAM,SAAAZ,GACH,EAAKS,SAAS,CAAET,aAGxBG,EAAMU,kBAnBN,EAAKT,MAAQ,CAAEJ,MAAO,MAFP,E,qDAuBT,IACEA,EAAUZ,KAAKgB,MAAfJ,MACR,OACI,0BAAME,SAAUd,KAAKc,UACjB,4BAAQiB,MAAM,uBAAuBvB,KAAK,UAA1C,uBAGCI,GAAS,2BAAIA,EAAMsB,c,GA/BLrE,aAqCzB6E,E,kDACF,WAAY5E,GAAQ,IAAD,8BACf,cAAMA,IAGVgD,SAAW,SAAAC,GACP,EAAKjD,MAAME,SACN2E,uBACA1B,MAAK,SAAAoB,GACF,OAAO,EAAKvE,MAAME,SAASyB,KAAK4C,EAAe5C,KAAKC,KAAK4C,IAAI,CACzDC,SAAUF,EAAeO,mBAAmBC,QAAQjB,KACpDhD,MAAOyD,EAAeO,mBAAmBC,QAAQjE,MACjD6D,MAAO,QAGdxB,MAAK,WACF,EAAKI,SAAS,CAAET,MAAO,UAE1BY,OAAM,SAAAZ,GACH,EAAKS,SAAS,CAAET,aAExBG,EAAMU,kBAlBN,EAAKT,MAAQ,CAAEJ,MAAO,MAFP,E,qDAsBT,IACEA,EAAUZ,KAAKgB,MAAfJ,MACR,OACI,0BAAME,SAAUd,KAAKc,UACjB,4BAAQiB,MAAM,uBAAuBvB,KAAK,UAA1C,yBAGCI,GAAS,2BAAIA,EAAMsB,c,GA9BHrE,aA0E3BiF,GAFgBlF,E,kDAnClB,WAAYE,GAAQ,IAAD,8BACf,cAAMA,IAGVgD,SAAW,SAAAC,GACP,EAAKjD,MAAME,SACN+E,sBACA9B,MAAK,SAAAoB,GACF,OAAO,EAAKvE,MAAME,SAASyB,KAAK4C,EAAe5C,KAAKC,KAAK4C,IAAI,CACzDC,SAAUF,EAAeO,mBAAmBC,QAAQjB,KACpDhD,MAAOyD,EAAeO,mBAAmBC,QAAQjE,MACjD6D,MAAO,QAGdxB,MAAK,WACF,EAAKI,SAAS,CAAET,MAAO,UAE1BY,OAAM,SAAAZ,GACH,EAAKS,SAAS,CAAET,aAExBG,EAAMU,kBAlBN,EAAKT,MAAQ,CAAEJ,MAAO,MAFP,E,qDAsBT,IACEA,EAAUZ,KAAKgB,MAAfJ,MACR,OACI,0BAAME,SAAUd,KAAKc,UACjB,4BAAQiB,MAAM,uBAAuBvB,KAAK,UAA1C,wBAGCI,GAAS,2BAAIA,EAAMsB,c,GA9BJrE,cAqCTD,EAAa8E,GACjBM,YAAWpF,EAAaiD,KAE5BoC,GADMrF,EAAauE,GA3LnB,kBACX,6BACI,yBAAKJ,MAAM,2CACP,sCAEJ,kBAACe,EAAD,SCNFnC,EAAgB,CAClB4B,SAAU,GACV3D,MAAO,GACPsE,YAAa,GACbC,YAAa,GACbC,QAAS,EACTxC,MAAO,MAGLyC,E,kDACF,WAAYvF,GAAQ,IAAD,8BACf,cAAMA,IAGVgD,SAAW,SAACC,GAAW,IAAD,EACgC,EAAKC,MAA/CuB,EADU,EACVA,SAAU3D,EADA,EACAA,MAAOsE,EADP,EACOA,YAAaE,EADpB,EACoBA,QACtC,EAAKtF,MAAME,SACNW,iCAAiCC,EAAOsE,GACxCjC,MAAK,SAACC,GAEH,EAAKpD,MAAME,SAASyB,KAAKyB,EAASzB,KAAKC,KAAK4C,IAAI,CAC5CC,WACA3D,QACAsE,cACAE,YAEJ,EAAKtF,MAAMwD,QAAQC,KAAK,aAE3BN,MAAK,WACF,EAAKI,SAAL,eAAmBV,OAEtBa,OAAM,SAACZ,GACJ,EAAKS,SAAS,CAAET,aAExBG,EAAMU,kBAxBS,EA0BnBC,SAAW,SAACX,GACR,EAAKM,SAAL,eAAiBN,EAAMY,OAAOC,KAAOb,EAAMY,OAAOE,SAzBlD,EAAKb,MAAL,eAAkBL,GAFH,E,qDA6BT,IAAD,EAODX,KAAKgB,MALLuB,EAFC,EAEDA,SACA3D,EAHC,EAGDA,MACAsE,EAJC,EAIDA,YACAC,EALC,EAKDA,YACAvC,EANC,EAMDA,MAGEkB,EACFoB,IAAgBC,GACA,KAAhBD,GACU,KAAVtE,GACa,KAAb2D,EAEJ,OACI,0BAAMzB,SAAUd,KAAKc,UACjB,yBAAKiB,MAAM,2CACP,wCAEJ,yBAAKA,MAAM,uCACP,yBAAKtB,UAAU,SACX,2BACImB,KAAK,WACLG,MAAM,cACNF,MAAOU,EACPb,SAAU1B,KAAK0B,SACflB,KAAK,OACLwB,YAAY,cAEhB,2BACIJ,KAAK,QACLG,MAAM,cACNF,MAAOjD,EACP8C,SAAU1B,KAAK0B,SACflB,KAAK,OACLwB,YAAY,kBAEhB,2BACIJ,KAAK,cACLG,MAAM,cACNF,MAAOqB,EACPxB,SAAU1B,KAAK0B,SACflB,KAAK,WACLwB,YAAY,aAEhB,2BACIJ,KAAK,cACLG,MAAM,cACNF,MAAOsB,EACPzB,SAAU1B,KAAK0B,SACflB,KAAK,WACLwB,YAAY,qBAEhB,4BACID,MAAM,8BACNE,SAAUH,EACVtB,KAAK,UAHT,WAOCI,GAAS,2BAAIA,EAAMsB,gB,GA3FfrE,aAmGdmF,cAAWpF,EAAayF,ICpFxBC,E,qNAfP,OACI,6BACI,kBAAC,IAAD,CACIC,GAAG,cAAc9C,UAAU,iBAAiBT,KAAKlC,MAAMyE,UAE3D,kBAAC,IAAD,CACIgB,GAAG,YACN9C,UAAU,iBAFX,gBAIA,kBAAC+C,EAAD,W,GAfM3F,aCoBP4F,E,uKAlBP,OACI,6BAAK,6BACD,yBAAKhD,UAAU,qDAAoD,6BAE9DT,KAAKlC,MAAM2B,KAAO,kBAAC,EAAD,CAASyB,SAAUlB,KAAKlC,MAAM2B,KAAM8C,SAAUvC,KAAKlC,MAAMyE,WAExE,yBAAK9B,UAAU,aAEX,kBAAC,IAAD,CAAMA,UAAU,mBAAmB8C,GAAG,UAAtC,SACA,kBAAC,IAAD,CAAM9C,UAAU,kBAAkB8C,GAAG,WAArC,iB,GAXH1F,aCQVD,I,uKATX,OACE,yBAAKmE,MAAM,sCACT,yBAAKA,MAAM,+DAAX,eACA,yBAAKA,MAAM,4BAA2B,kBAAC,EAAD,CAAYtC,KAAMO,KAAKlC,MAAM2B,KAAM8C,SAAUvC,KAAKlC,MAAMyE,iB,GALjF1E,cCyrBND,G,YAAAA,E,4MAtqBboD,MAAQ,CACN0C,YAAa,KACbC,MAAO,KACPC,QAAS,GACTC,eAAgB,KAChBC,SAAU,GACVC,cAAe,GACfC,gBAAiB,GACjBC,mBAAoB,GACpBC,mBAAoB,GACpBC,cAAe,GACf5B,SAAS,M,EAEX6B,oBAAsB,SAACC,GAErB,IADA,IAAIL,EAAkB,EAAKhD,MAAMgD,gBACxBM,EAAI,EAAGA,EAAIN,EAAgBO,OAAQD,IACtCD,EAAI,IAAUL,EAAgBM,GAAhB,IAChBN,EAAgBQ,OAAOF,EAAG,GAG9B,IAAIP,EAAgB,EAAK/C,MAAM+C,cAC/B5C,QAAQC,IAAIiD,GACZN,EAAcxC,KAAK8C,GACnB,EAAKhD,SAAS,CACZ0C,cAAeA,EACfC,gBAAiBA,K,EAIrBS,wBAA0B,SAACJ,GACzB,IAAIC,EAAI,EACJI,EAAa,EAAK1D,MAAMiD,mBAC5B,IAAKK,EAAI,EAAGA,EAAII,EAAWH,OAAQD,IACjC,GAAII,EAAWJ,GAAX,IAAuBD,EAAI,GAC7B,OAGJK,EAAWnD,KAAK8C,GAChB,EAAKhD,SAAS,CAAE4C,mBAAoBS,K,EAEtCC,eAAiB,WACf,IAAI9C,EAAQ+C,SAASC,eAAe,gBAAgBhD,MAEpD,GADA+C,SAASC,eAAe,gBAAgBhD,MAAQ,GACnC,IAATA,EAAa,CACf,IAAIiD,EAAU,GAOd,OADAA,EAAQ,yBALE,EAAKhH,MAAME,SAAS2B,GAC3BC,MACAmF,MAAM,yBACNxD,OAAOyD,KAEgC,CAAEpD,KAAMC,GAC3C,EAAK/D,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOH,GAE3CI,MAAM,e,EAGVC,WAAa,WACX,IAAItD,EAAQ+C,SAASC,eAAe,YAAYhD,MAChD,GAAa,IAATA,EAAa,CACf+C,SAASC,eAAe,YAAYhD,MAAQ,GAC5C,IAAIiD,EAAU,GAOd,OADAA,EAAQ,yBALE,EAAKhH,MAAME,SAAS2B,GAC3BC,MACAmF,MAAM,yBACNxD,OAAOyD,KAEgCnD,EACnC,EAAK/D,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOH,GAE3CI,MAAM,e,EAGVE,aAAe,WACb,IAAIvD,EAAQ+C,SAASC,eAAe,cAAchD,MAClD,GAAa,IAATA,EAAa,CACf+C,SAASC,eAAe,cAAchD,MAAQ,GAC9C,IAAIiD,EAAU,GAId,OADAA,EAAQ,kBAFE,EAAKhH,MAAME,SAAS2B,GAAGC,MAAMmF,MAAM,kBAAkBxD,OAAOyD,KAEnC,CAAEpD,KAAMC,GACpC,EAAK/D,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOH,GAE3CI,MAAM,e,EAuBVG,aAAe,WACb,EAAKvH,MAAME,SAAS2B,GAAGC,IAAI,UAAU0F,GAAG,SAAS,SAACC,GAChDpE,QAAQC,IAAI,WACZ,IAAIoE,EAAMD,EAASE,MAGftB,EAAgB,GACpBuB,OAAOC,KAAKH,EAAG,gBAAoBI,SAAQ,SAACZ,GAG1Cb,EAAc5C,KAAK,CAAEsE,GAAIb,EAAKnD,MAAO2D,EAAG,eAAmBR,QAG7D7D,QAAQC,IAAI,EAAKtD,OACjB,IAAI8F,EAAU,GACdzC,QAAQC,IAAIoE,EAAG,SACfE,OAAOC,KAAKH,EAAG,SAAaI,SAAQ,SAACZ,GAChC,EAAKhE,MAAMuB,UAAUiD,EAAG,QAAYR,GAAf,MAIxBpB,EAAQrC,KAAK,CAAEsE,GAAIb,EAAKnD,MAAO2D,EAAG,QAAYR,QAKhD,IAAIlB,EAAW,GACf4B,OAAOC,KAAKH,EAAG,gBAAoBI,SAAQ,SAACZ,GAC1ClB,EAASvC,KAAK,CAAEsE,GAAIb,EAAKnD,MAAO2D,EAAG,eAAmBR,QAGxD,IAAIrB,EAAQ,GACZ+B,OAAOC,KAAKH,EAAG,OAAWI,SAAQ,SAACZ,GAGjCrB,EAAMpC,KAAK,CAAEsE,GAAIb,EAAKnD,MAAO2D,EAAG,MAAUR,QAE5C7D,QAAQC,IAAIwC,GAEZ,EAAKvC,SAAS,CACZqC,YAAa8B,EACb7B,MAAOA,EACPO,mBAAoBC,EACpBA,cAAeA,EACfP,QAASA,EACTI,gBAAiBF,EACjBA,SAAUA,EACVC,cAAe,S,EAIrB+B,WAAa,SAACzB,GACZ,EAAKvG,MAAME,SAAS2B,GAAGC,IAAI,iBAAmByE,GAAM0B,U,EAEtDC,UAAY,WACV,EAAKX,gB,EA2BPY,qBAAuB,WACrB,IAAIC,EAAQtB,SAASC,eAAe,iBAAiBhD,MACrDqE,EAAQA,EAAMC,cACd,IAAIC,GAAO,EACP1B,EAAa,EAAK1D,MAAMmD,cAE5BuB,OAAOW,OAAO3B,GAAYkB,SAAQ,SAACU,GACjC,IAAIzE,EAAQyE,EAAG,KAASH,cACxBhF,QAAQC,IAAIS,GACZ,IAAK,IAAI0E,EAAI,EAAGA,EAAI1E,EAAM0C,OAAQgC,IAAK,CAErC,GADApF,QAAQC,IAAI8E,GACRA,EAAM,IAAMrE,EAAM0E,GAAI,CACxBH,GAAO,EACPjF,QAAQC,IAAI,SACZ,IAAK,IAAIoF,EAAI,EAAGA,EAAIN,EAAM3B,OAAQiC,IAChC,GAAI3E,EAAM0E,EAAIC,IAAMN,EAAMM,GAAI,CAC5BJ,GAAO,EACP,MAGJ,GAAY,GAARA,EAAc,CAChB1B,EAAWnD,KAAK+E,GAChBnF,QAAQC,IAAI,SACZ,OAGJ,GAAoB,GAAhB8E,EAAM3B,OAAa,CACrBG,EAAWnD,KAAK+E,GAChBnF,QAAQC,IAAI,SACZ,WAON,EAAKC,SAAS,CAAE6C,mBAAoBQ,K,EAEtC+B,mBAAqB,SAACpC,GACpB,IAAIC,EAAI,EACJI,EAAa,EAAK1D,MAAMiD,mBAC5B,IAAKK,EAAI,EAAGA,EAAII,EAAWH,OAAQD,IACjC,GAAII,EAAWJ,GAAX,IAAuBD,EAAI,GAAQ,CACrCK,EAAWF,OAAOF,EAAG,GACrB,MAGJ,EAAKjD,SAAS,CAAE4C,mBAAoBS,K,EAEtCgC,wBAA0B,SAACrC,GACzB,IAAIN,EAAgB,EAAK/C,MAAM+C,cAC3BC,EAAkB,EAAKhD,MAAMgD,gBACjCA,EAAgBzC,KAAK8C,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAcQ,OAAQD,IACxC,GAAIP,EAAcO,GAAd,IAA0BD,EAAI,GAAQ,CACxCN,EAAcS,OAAOF,EAAG,GACxB,MAGJ,EAAKjD,SAAS,CACZ0C,cAAeA,EACfC,gBAAiBA,K,EAGrB2C,aAAe,SAAC/E,EAAMgF,EAAQlC,EAAYmC,GACxC,GAAY,IAARjF,EACF,OAAO,EAET,GAAc,MAAVgF,EACF,OAAO,EAET,GAAyB,GAArBlC,EAAWH,OACb,OAAO,EAET,IAAK,IAAID,EAAI,EAAGA,EAAIuC,EAAMtC,OAAQD,IAChC,GAAwD,IAApDM,SAASC,eAAegC,EAAMvC,GAAN,OAAmBzC,MAC7C,OAAO,EAGX,OAAO,G,EAETiF,SAAW,WACT,IAAIlF,EAAOgD,SAASC,eAAe,YAAYhD,MAC3CkF,EAAOnC,SAASC,eAAe,iBAAiBhD,MAChD+E,EAAS,EAAK5F,MAAM6C,eACpBmD,EAAMpC,SAASC,eAAe,OAAOoC,QACrCvC,EAAa,EAAK1D,MAAMiD,mBACxB4C,EAAQ,EAAK7F,MAAM+C,cACvB,GAAI,EAAK4C,aAAa/E,EAAMgF,EAAQlC,EAAYmC,GAAQ,CACtDjC,SAASC,eAAe,YAAYhD,MAAQ,GAG5C,IADA,IAAIqF,EAAS,GACJ5C,EAAI,EAAGA,EAAIuC,EAAMtC,OAAQD,IAChC4C,EAAOL,EAAMvC,GAAN,IAAkB,CACvB6C,KAAMN,EAAMvC,GAAN,MACN8C,MAAOxC,SAASC,eAAegC,EAAMvC,GAAN,OAAmBzC,OAKtD,IAAIwF,EAAiB,GACrB,IAAS/C,EAAI,EAAGA,EAAII,EAAWH,OAAQD,IACrC+C,EAAe3C,EAAWJ,GAAX,IAAuBI,EAAWJ,GAAX,MAExC,IAAIgD,EAAW,CACb1F,KAAMA,EACNmF,KAAKA,EACLC,IAAKA,EACLJ,OAAQA,EACRQ,MAAOF,EACPG,eAAgBA,EAChBE,SAAQ,GAEVpG,QAAQC,IAAIkG,GACZ,IAAItC,EAAM,EAAKlH,MAAME,SAAS2B,GAAGC,MAAMmF,MAAM,gBAAgBxD,OAAOyD,IACpE7D,QAAQC,IAAI4D,GACZ,IAAIF,EAAU,GAEd,OADAA,EAAQ,gBAAkBE,GAAOsC,EAC1B,EAAKxJ,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOH,GAE3CI,MAAM,e,EAGVsC,SAAW,WACT,OAAwB,MAApB,EAAKxG,MAAM2C,MAEX,yBAAKlD,UAAU,wBACb,yBAAKA,UAAU,4BACb,wBAAIA,UAAU,wBAAd,cACA,yBAAKA,UAAU,gCAAf,mBAMJ,6BACE,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,4BACb,wBAAIA,UAAU,wBAAd,cAEA,yBAAKA,UAAU,UACb,yBAAKA,UAAU,SAAf,QACA,yBAAKA,UAAU,SAAf,UACA,yBAAKA,UAAU,SAAf,cACA,yBAAKA,UAAU,SAAf,UAEDiF,OAAOC,KAAK,EAAK3E,MAAM2C,OAAO8D,KAAI,SAACpD,GAClC,OACG,EAAKrD,MAAMuB,UAAU,EAAKvB,MAAM2C,MAAMU,GAAjB,aACtB,yBAAK5D,UAAU,SACb,yBAAKA,UAAU,uDACb,yBAAKA,UAAU,0BACb,6BAAM,EAAKO,MAAM2C,MAAMU,GAAjB,YACN,4BACE5D,UAAU,2CACVC,QAAS,WACP,EAAKoF,WAAW,EAAK9E,MAAM2C,MAAMU,GAAjB,MAHpB,UAQC,EAAKrD,MAAM2C,MAAMU,GAAjB,MAAgCkD,QACjC,4BACE9G,UAAU,2CACVC,QAAS,WACP,IAAIuE,EAAS,GAEb,OADAA,EAAO,gBAAgB,EAAKjE,MAAM2C,MAAMU,GAAjB,GAA6B,aAAY,EACzD,EAAKvG,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOA,KAL/C,aAUA,4BACExE,UAAU,4CACVC,QAAS,WACP,IAAIuE,EAAS,GAEb,OADAA,EAAO,gBAAgB,EAAKjE,MAAM2C,MAAMU,GAAjB,GAA6B,aAAY,EACzD,EAAKvG,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOA,KAL/C,gBAWF,yBAAKxE,UAAU,SACZ,EAAKO,MAAM2C,MAAMU,GAAjB,cAEH,yBAAK5D,UAAU,SACZiF,OAAOC,KACN,EAAK3E,MAAM2C,MAAMU,GAAjB,sBACAoD,KAAI,SAACC,GACL,OACE,yBAAKjH,UAAU,kDAEX,EAAKO,MAAM2C,MAAMU,GAAjB,qBAEEqD,GAFF,UAQV,yBAAKjH,UAAU,SACZiF,OAAOC,KACN,EAAK3E,MAAM2C,MAAMU,GAAjB,aACAoD,KAAI,SAACN,GACL,OACE,yBAAK1G,UAAU,UACb,yBAAKA,UAAU,iDAEX,EAAKO,MAAM2C,MAAMU,GAAjB,YACE8C,GADF,MAKJ,yBAAK1G,UAAU,wEAEX,EAAKO,MAAM2C,MAAMU,GAAjB,YACE8C,GADF,cAUT,qC,EAUvBQ,uBAAyB,WACvB,OAA4C,GAAxC,EAAK3G,MAAMiD,mBAAmBM,OACzB,yBAAK9D,UAAU,cAAf,0BAGL,yBAAKA,UAAU,YACZ,EAAKO,MAAMiD,mBAAmBwD,KAAI,SAACpD,GAAD,OACjC,4BACE5D,UAAU,wCACVuE,IAAKX,EAAI,GACT3D,QAAS,WACP,EAAK+F,mBAAmBpC,KAGzBA,EAAI,MAAJ,W,EAObuD,mBAAqB,WACnB,GAAiC,MAA7B,EAAK5G,MAAM6C,eACb,OACE,4BAAQpD,UAAU,uBACf,EAAKO,MAAM6C,iB,EAKpBgE,YAAc,WACZ,OAA8B,MAA1B,EAAK7G,MAAM0C,YACN,gDAGL,6BACGgC,OAAOW,OAAO,EAAKrF,MAAM0C,YAAX,SAAmCkC,SAAQ,SAAC/D,GAAD,OACxD,6BAAMA,Q,mEA7WdV,QAAQC,IAAIpB,KAAKlC,OACdkC,KAAKgB,MAAMuB,UAAUvC,KAAKlC,MAAMyE,UACnCvC,KAAKqB,SAAS,CAACkB,SAASvC,KAAKlC,MAAMyE,a,0CAGhCvC,KAAKgB,MAAMuB,UAAUvC,KAAKlC,MAAMyE,UACjCvC,KAAKqB,SAAS,CAACkB,SAASvC,KAAKlC,MAAMyE,SAASsB,eAAe7D,KAAKlC,MAAMyE,WAExEvC,KAAKgG,c,+BA2WG,IAAD,OAEP,OACE,yBAAKvF,UAAU,mBAIb,yBAAKA,UAAU,QAAQoF,GAAG,iBAMtB7F,KAAKwH,YAMT,yBAAK/G,UAAU,yBACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,kBAAkBoF,GAAG,oBAClC,yBAAKpF,UAAU,UACb,6CAGF,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,oBAAf,QACA,2BACEA,UAAU,SACVoF,GAAG,WACHrF,KAAK,OACLwB,YAAY,qBAIf,yBAAKvB,UAAU,mBACd,yBAAKA,UAAU,oBAAf,kBACA,2BACEA,UAAU,SACVoF,GAAG,gBACHrF,KAAK,OACLwB,YAAY,kCAIhB,yBAAKvB,UAAU,mBAMXT,KAAKgB,MAAM4C,QAAQ6D,KAAI,SAACpD,GAAD,OAAa,4BAC9B5D,UAAU,uBAGT4D,EAAI,MAAJ,UAOX,yBAAK5D,UAAU,mBACb,yBAAKA,UAAU,oBAAf,eACA,2BAAOoF,GAAG,MAAMrF,KAAK,WAAWoB,KAAK,QACrC,2BAAOkG,IAAI,OAAX,SAGF,yBAAKrH,UAAU,mBACb,yBAAKA,UAAU,oBAAf,qBACA,yBAAKoF,GAAG,sBACL7F,KAAK2H,0BAER,yBAAK9B,GAAG,gBAAgB9D,MAAM,YAC5B,2BACEtB,UAAU,cACVD,KAAK,OACLwB,YAAY,2BACZ6D,GAAG,gBACHkC,QAAS,WACP,EAAK9B,0BAGT,yBAAKxF,UAAU,UACb,yBAAKA,UAAU,6BACZT,KAAKgB,MAAMkD,mBAAmBuD,KAAI,SAACpD,GAAD,OACjC,4BACE5D,UAAU,wCACVC,QAAS,WACP,EAAK+D,wBAAwBJ,KAG9BA,EAAI,MAAJ,aAQb,yBAAK5D,UAAU,mBACb,yBAAKA,UAAU,oBAAf,SACA,6BACGT,KAAKgB,MAAM+C,cAAc0D,KAAI,SAACpD,GAAD,OAC5B,yBAAK5D,UAAU,oBACb,4BACEA,UAAU,wBACVC,QAAS,WACP,EAAKgG,wBAAwBrC,KAG9BA,EAAI,OAEP,2BACE5D,UAAU,cACVoF,GAAIxB,EAAI,MACR7D,KAAK,eAIVR,KAAKgB,MAAMgD,gBAAgByD,KAAI,SAACpD,GAAD,OAC9B,4BACE5D,UAAU,wBACVC,QAAS,WACP,EAAK0D,oBAAoBC,KAG1BA,EAAI,YAKb,yBAAK5D,UAAU,sDACb,4BACEA,UAAU,mCACVC,QAAS,WACP,EAAKoG,aAHT,kBAWN,yBAAKrG,UAAU,aAEb,yBAAKA,UAAU,oBACb,8CACA,yBAAKA,UAAU,8BACb,2BACEA,UAAU,cACVoF,GAAG,eACH7D,YAAY,qBAEd,4BACEvB,UAAU,kBACVC,QAAS,WACP,EAAKiE,mBAHT,kBAWJ,yBAAKlE,UAAU,oBACb,yCACA,yBAAKA,UAAU,8BACb,2BACEA,UAAU,cACVoF,GAAG,WACH7D,YAAY,YAEd,4BACEvB,UAAU,kBACVC,QAAS,WACP,EAAKyE,eAHT,gBA+BR,yBAAK1E,UAAU,QAAQoF,GAAG,2B,GAxqBXhI,eCwHRD,I,kDA9HX,WAAYE,GACX,IAAD,8BACI,cAAMA,IAPVkD,MAAM,CACFnB,MAAM,GACNmI,OAAO,GACPC,UAAU,MAGd,EAGAC,MAAQ,SAACC,EAAGC,GAKR,OAJAD,EAAIA,EAAEE,iBAEND,EAAIA,EAAEC,eAEAC,SAASH,IARnB,E,gEAYMnI,KAAKuI,iB,2CAGoB,MAAtBvI,KAAKgB,MAAMiH,YAEb9G,QAAQC,IAAIwD,SAASC,eAAe,OAAOhD,OAC5CV,QAAQC,IAAIpB,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,Y,qCAGH,IAAD,OACVjI,KAAKlC,MAAME,SAAS2B,GAAGC,IAAI,UAC1B4I,KAAK,SACLvH,MAAK,SAACsE,GACH,IAAM1F,EAAM0F,EAASE,MACrB,EAAKpE,SAAS,CAACxB,MAAMA,S,mCAMI,MAAtBG,KAAKgB,MAAMiH,YAEV9G,QAAQC,IAAIpB,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,SACZjI,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,SAAmDQ,SAAS7D,SAASC,eAAe,OAAOhD,OAC3F7B,KAAKlC,MAAME,SAAS2B,GAAGC,IAAI,SAAWI,KAAKgB,MAAMiH,WAAW3F,IAAI,CAC7Dc,QAAQpD,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,QACPrJ,MAAMoB,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,MACN/E,YAAYlD,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,YACZ1F,SAASvC,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,WAGb9G,QAAQC,IAAIpB,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,SACZjI,KAAKqB,SAAS,CAAC4G,UAAU,OACzBrD,SAASC,eAAe,OAAOhD,MAAM,M,oCAG/B,IAAD,OAEL,OACA,yBAAKpB,UAAU,gCACX,yBAAKA,UAAU,yBAEViF,OAAOC,KAAK3F,KAAKgB,MAAMnB,OAAO4H,KAAI,SAACiB,GAEhC,GAAG,EAAKR,MAAM,EAAKlH,MAAMgH,OAAO,EAAKhH,MAAMnB,MAAM6I,GAAS9J,OAC1D,OACA,yBAAK6B,UAAU,0BACX,yBAAKA,UAAU,SAAQ,4BAAK,EAAKO,MAAMnB,MAAM6I,GAASnG,WACtD,yBAAK9B,UAAU,SAAQ,4BAAK,EAAKO,MAAMnB,MAAM6I,GAAS9J,QACtD,yBAAK6B,UAAU,wBAAwBkI,cAAY,QAAQC,cAAY,kBAAkBC,MAAO,CAAEC,OAAQ,IAAMpI,QAAS,WAAK,EAAKW,SAAS,CAAC4G,UAAUS,MAAvJ,uB,kCAWZ,IAAD,OACP,OACI,yBAAK3G,MAAM,eAAe8D,GAAG,iBAAiBkD,gBAAc,SAASC,SAAS,KAAKC,KAAK,SAASC,kBAAgB,sBAAsBC,cAAY,OAAOC,SAAS,SAC/J,yBAAKrH,MAAM,sCAAsCkH,KAAK,YAElD,yBAAKlH,MAAM,iBACX,yBAAKA,MAAM,gBAEX,6BAAK,4BAA2B,MAAtB/B,KAAKgB,MAAMiH,UAAgB,6BAAMjI,KAAKgB,MAAMnB,MAAMG,KAAKgB,MAAMiH,WAA5B,OAAuD,iCAE9F,yBAAKlG,MAAM,cACX,2BAAQ8D,GAAG,MAAM7D,YAAY,gBAAgBD,MAAM,iBAEnD,yBAAKA,MAAM,gBACP,4BAAQvB,KAAK,SAASuB,MAAM,oBAAoBsH,eAAa,QAAQ3I,QAAS,WAAKkE,SAASC,eAAe,OAAOhD,MAAM,GAAG,EAAKR,SAAS,CAAC4G,UAAU,SAApJ,SACA,4BAAQzH,KAAK,SAASuB,MAAM,kBAAkBsH,eAAa,QAAQ3I,QAAS,WAAQ,EAAK4I,eAAzF,gB,+BAOnB,IAAD,SACJ,OACI,6BACI,6BACKtJ,KAAKuJ,aAEV,yBAAKxH,MAAM,qBACX,yBAAKA,MAAM,cAEP,8BAAO8D,GAAG,QAAQ7D,YAAY,kBAAkBD,MAAM,eAAtD,mBAAuE,SAAvE,0BAAyF,WACrF,IAAIF,EAAQ+C,SAASC,eAAe,SAAShD,MAC7C,EAAKR,SAAS,CAAC2G,OAAOnG,OAF1B,KAKJ,+BAIA,yBAAKE,MAAM,SAMX,6BACK/B,KAAKwJ,oB,GA9HD3L,cC2JVD,I,4MAxJXoD,MAAQ,CACJyI,QAAS,KACTC,KAAM,KACN/F,MAAO,KACPiD,OAAQ,KACR+C,eAAe,EACf/F,QAAS,KACTgG,OAAO,I,EAqCXC,UAAY,WACR,EAAK/L,MAAME,SAAS2B,GACfC,IAAI,WAAa,EAAK9B,MAAM8I,QAC5BtB,GAAG,SAAS,SAACC,GACV,IAAMlB,EAAOkB,EAASE,MACtBtE,QAAQC,IAAIiD,GACZ,EAAKhD,SAAS,CAAEqI,KAAMrF,Q,EAGlCyF,WAAa,WACT,EAAKhM,MAAME,SAAS2B,GACfC,IAAI,gBACJ0F,GAAG,SAAS,SAACC,GACV,IAAMlB,EAAOkB,EAASE,MACtBtE,QAAQC,IAAIiD,GACZ,EAAKhD,SAAS,CAAEsC,MAAOU,Q,EAiCnC0F,UAAY,WACR,GAAI,EAAK/I,MAAMyI,QACX,OAAG,EAAKzI,MAAM0I,KAAKM,eACX,6BACJ,yBAAKvJ,UAAU,+BACViF,OAAOC,KAAK,EAAK3E,MAAM0I,KAAX,gBAAmCjC,KAAI,SAACwC,GAAD,OAAc,yBAAKxJ,UAAU,oBAAmB,yBAAKA,UAAU,aAAa,EAAKO,MAAM0I,KAAX,eAAkCO,GAAS1H,UAEvK,yBAAK9B,UAAU,qBAAf,QAAyC,EAAKO,MAAM0I,KAAX,eAAkCO,GAASC,KACpF,yBAAKzJ,UAAU,iBAAiBoF,GAAIoE,EAAU,IAAKvJ,QAAS,WAAQ,EAAKyJ,cAAcF,KAAvF,mBACCvE,OAAOC,KAAK,EAAK3E,MAAM0I,KAAX,eAAkCO,GAAStG,OAAO8D,KAAI,SAAC2C,GAAD,OAAc,yBAAK3J,UAAU,oBAC5FiF,OAAOC,KAAK,EAAK3E,MAAM0I,KAAKM,eAAeC,GAAStG,MAAMyG,IAAU3C,KAAI,SAAC4C,GAAD,OAAe,yBAAK5J,UAAU,iBAClG,yBAAKA,UAAU,eAAe,EAAKO,MAAM2C,MAAMyG,GAASxI,KAAxD,MAAiE,EAAKZ,MAAM2C,MAAMyG,GAAShD,MAAMiD,GAAUlD,KAA3G,MAAoH,EAAKnG,MAAM0I,KAAKM,eAAeC,GAAStG,MAAMyG,GAASC,GAAvD,IAApH,MAEA,yBAAK5J,UAAU,UACgE,GAA1E,EAAKO,MAAM0I,KAAKM,eAAeC,GAAStG,MAAMyG,GAASC,GAAUC,MACa,GAA1E,EAAKtJ,MAAM0I,KAAKM,eAAeC,GAAStG,MAAMyG,GAASC,GAAUE,MAC9D,4BAAQ9J,UAAU,0BAAlB,uBACA,4BAAQA,UAAU,0BAAlB,cACF,4BAAQD,KAAK,SAASC,UAAU,yBAAyBC,QAAS,WAAQ,EAAK8J,UAAUJ,EAASH,EAASI,EAAU,EAAKrJ,MAAM0I,KAAX,eAAkCO,GAAlC,UAArH,iCAYlB,iD,mEA/GhB9I,QAAQC,IAAIpB,KAAKgB,OACjBG,QAAQC,IAAIpB,KAAKlC,OACQ,MAArBkC,KAAKgB,MAAM4F,QAAuC,MAArB5G,KAAKlC,MAAM8I,QACxC5G,KAAKqB,SAAS,CAAEuF,OAAQ5G,KAAKlC,MAAM8I,SAGb,MAAtB5G,KAAKgB,MAAMyI,SAAmBzJ,KAAKgB,MAAM0I,MACzC1J,KAAKqB,SAAS,CAAEoI,SAAS,IAIN,MAAnBzJ,KAAKgB,MAAM0I,MAAgB1J,KAAKgB,MAAM4F,QACtC5G,KAAK6J,c,0CASgB,MAArB7J,KAAKgB,MAAM4F,QACX5G,KAAKqB,SAAS,CAAEuF,OAAQ5G,KAAKlC,MAAM8I,SAEvC5G,KAAK8J,aACL9J,KAAKyK,iB,qCAEO,IAAD,OACXzK,KAAKlC,MAAME,SAAS2B,GAAGC,IAAI,kBAAkB4I,KAAK,SAC7CvH,MAAK,SAACsE,GACH,EAAKlE,SAAS,CAAEuC,QAAS2B,EAASE,a,gCAsBpC2E,EAASH,EAASI,EAAU3K,GAClC,IAAIoF,EAAU,GACdA,EAAQ,UAAYpF,EAAM,eAAiBuK,EAAU,UAAYG,EAAU,IAAMC,EAAW,WAAY,EACxGvF,EAAQ,YAAc9E,KAAKlC,MAAM8I,OAAS,mBAAqBqD,EAAU,UAAYG,EAAU,IAAMC,EAAW,WAAY,EAC5HrK,KAAKlC,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOH,K,oCAO1BmF,GAAU,IAAD,OACfnF,EAAU,GACd3D,QAAQC,IAAI6I,GACZnF,EAAQ,YAAc9E,KAAKlC,MAAM8I,OAAS,mBAAqBqD,GAAW,KAGtEvE,OAAOC,KAAK3F,KAAKgB,MAAM0I,KAAX,eAAkCO,GAAStG,OAAO8D,KAAI,SAAC2C,GAG3D1E,OAAOC,KAAK,EAAK3E,MAAM0I,KAAX,eAAkCO,GAAStG,MAAMyG,IAAU3C,KAAI,SAAC4C,GACxEvF,EAAQ,UAAY,EAAK9D,MAAM0I,KAAKM,eAAeC,GAASS,OAAS,eAAiBT,EAAU,UAAYG,EAAU,IAAMC,EAAW,WAAY,QAMnKrK,KAAKlC,MAAME,SAAS2B,GAAGC,MAAMqF,OAAOH,K,+BAqCpC,OACI,yBAAK/C,MAAM,cAKP,wBAAIA,MAAM,kBAAV,UACA,yBAAKtB,UAAU,cACX,yBAAKA,UAAU,WAMf,yBAAKsB,MAAM,cACN/B,KAAK+J,mB,GA/IDlM,cCmHdD,I,4MAjGboD,MAAQ,CACN2J,SAAU,KACVjL,IAAK,KACL6C,SAAU,KACV1C,MAAO,GACP+G,OAAQ,M,EAEVgE,cAAgB,WACd,EAAK9M,MAAME,SAASc,KAAK+L,oBAAmB,SAAC3J,GACvCA,GAAY,EAAKF,MAAM2J,WACzBzJ,EACI,EAAKG,SAAS,CAAEsJ,SAAUzJ,IAC1B,EAAKG,SAAS,CAAEsJ,SAAU,KAAKpI,SAAS,KAAKqE,OAAO,Y,EAG9DkE,cAAgB,WACa,MAAvB,EAAK9J,MAAM2J,UACb,EAAK7M,MAAME,SAAS2B,GACjBC,IAAI,SAAW,EAAKoB,MAAM2J,SAASjL,KACnC8I,KAAK,SACLvH,MAAK,SAACsE,GACL,IAAMmE,EAAOnE,EAASE,MAChBhG,EACH8F,EAASE,OAASF,EAASE,MAAMlD,UAAa,YAE7C,EAAKvB,MAAMuB,UAAY9C,GACzB,EAAK4B,SAAS,CAAEkB,SAAU9C,EAAMmH,OAAQ8C,EAAK9C,a,mEAQrD5G,KAAK8K,gBACL9K,KAAK4K,kB,0CAIL5K,KAAK4K,kB,+BAGL,MAA2B,SAAvB5K,KAAKgB,MAAMuB,SAEX,kBAAC,IAAD,CAAQwI,SAAS,KACf,6BACE,kBAAC,EAAD,CAAQtL,KAAMO,KAAKgB,MAAM2J,SAAUpI,SAAUvC,KAAKgB,MAAMuB,WAExD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOyI,KAAK,UACV,kBAACC,EAAD,OAEF,kBAAC,IAAD,CAAOD,KAAK,WACV,kBAACE,EAAD,OAEF,kBAAC,IAAD,CAAOF,KAAK,eACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACW,MAArBhL,KAAKgB,MAAM2J,SAAgB,kBAAC,EAAD,MAAc,kBAACM,EAAD,UAY3C,kBAAC,IAAD,CAAQF,SAAS,KACvB,6BACE,kBAAC,EAAD,CAAQtL,KAAMO,KAAKgB,MAAM2J,SAAUpI,SAAUvC,KAAKgB,MAAMuB,WACxD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOyI,KAAK,UACV,kBAACC,EAAD,OAEF,kBAAC,IAAD,CAAOD,KAAK,WACV,kBAACE,EAAD,OAEF,kBAAC,IAAD,CAAOF,KAAK,aACa,MAArBhL,KAAKgB,MAAMuB,SAAgB,kBAAC,EAAD,CAAU9C,KAAMO,KAAKgB,MAAM2J,SAAUpI,SAAUvC,KAAKgB,MAAMuB,WAAY,2CAGrG,kBAAC,IAAD,CAAOyI,KAAK,eACW,MAArBhL,KAAKgB,MAAM2J,SAAgB,kBAAC,EAAD,CAAgB/D,OAAQ5G,KAAKgB,MAAM4F,OAAQrE,SAAUvC,KAAKgB,MAAMuB,WAAY,kBAAC0I,EAAD,OAEzG,kBAAC,IAAD,CAAOD,KAAK,KACW,MAArBhL,KAAKgB,MAAM2J,SAAgB,kBAAC,EAAD,CAAgB/D,OAAQ5G,KAAKgB,MAAM4F,OAAQrE,SAAUvC,KAAKgB,MAAMuB,WAAY,kBAAC0I,EAAD,QAjB7G,U,GAzEUpN,cCTEsN,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCXNC,IAASC,OACP,kBAAC,EAAgBC,SAAjB,CAA0B7J,MAAO,IAAInD,GACnC,kBAAC,EAAD,OAEFkG,SAASC,eAAe,SDwHpB,kBAAmB8G,WACrBA,UAAUC,cAActB,MACrBrJ,MAAK,SAAA4K,GACJA,EAAaC,gBAEdtK,OAAM,SAAAZ,GACLO,QAAQP,MAAMA,EAAMsB,c","file":"static/js/main.ef10dc74.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import React from 'react';\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n        {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/functions\"\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBWkcnuIWQfwWKF9iHzbDyopT6fdqi02X8\",\r\n  authDomain: \"canteen-ordering-3d30c.firebaseapp.com\",\r\n  databaseURL: \"https://canteen-ordering-3d30c.firebaseio.com\",\r\n  projectId: \"canteen-ordering-3d30c\",\r\n  storageBucket: \"canteen-ordering-3d30c.appspot.com\",\r\n  messagingSenderId: \"155341264665\",\r\n  appId: \"1:155341264665:web:6e6c97d269ce56ead59788\",\r\n  measurementId: \"G-C199BELLX4\"\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(firebaseConfig);\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n    this.storage = app.storage();\r\n    this.functions = app.functions();\r\n    this.filterItems = this.functions.httpsCallable(\"filterItems\");\r\n    this.addToCart = this.functions.httpsCallable(\"addToCart\");\r\n    this.showCart = this.functions.httpsCallable(\"showCart\");\r\n\r\n  }\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n  doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n  user = uid => this.db.ref(`users/${uid}`);\r\n  users = () => this.db.ref(\"users\");\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\nexport default Firebase;\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\nimport { withFirebase } from '../Firebase';\r\nconst SignOutButton = ({ firebase }) => (\r\n    <button type=\"button\" className=\"btn btn-dark\" onClick={firebase.doSignOut}>SIGN OUT</button>\r\n\r\n);\r\nexport default withFirebase(SignOutButton);","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withFirebase } from \"../Firebase\";\r\nimport SignOut from \"../SignOut\";\r\n\r\nconst SignIn = () => (\r\n    <div>\r\n        <div class=\"row justify-content-center bg-white p-5\">\r\n            <h1>Login</h1>\r\n        </div>\r\n        <SignInForm />\r\n    </div>\r\n);\r\nconst INITIAL_STATE = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: null\r\n};\r\nclass SignInFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n    onSubmit = event => {\r\n        const { email, password } = this.state;\r\n        this.props.firebase\r\n            .doSignInWithEmailAndPassword(email, password)\r\n            .then((authUser) => {\r\n                console.log(\"AUTH USER\");\r\n                //console.log(authUser);\r\n                this.setState({ error: null });\r\n                this.props.history.push(\"/vendorcart\");\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n        event.preventDefault();\r\n    };\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n    render() {\r\n        const { email, password, error } = this.state;\r\n        const isInvalid = password === \"\" || email === \"\";\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <div class=\"row justify-content-center bg-white\">\r\n                    <div class=\"col-6\">\r\n                        <input\r\n                            name=\"email\"\r\n                            class=\"col-12 my-2\"\r\n                            value={email}\r\n                            onChange={this.onChange}\r\n                            type=\"text\"\r\n                            placeholder=\"Email Address\"\r\n                        />\r\n                        <input\r\n                            name=\"password\"\r\n                            class=\"col-12 my-2\"\r\n                            value={password}\r\n                            onChange={this.onChange}\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                        <button\r\n                            class=\"btn btn-primary col-12 my-2\"\r\n                            disabled={isInvalid}\r\n                            type=\"submit\"\r\n                        >\r\n                            Login\r\n                        </button>\r\n\r\n                        {error && <p>{error.message}</p>}\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nclass SignInGoogleBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { error: null };\r\n    }\r\n    onSubmit = event => {\r\n        this.props.firebase\r\n            .doSignInWithGoogle()\r\n            .then(socialAuthUser => {\r\n                return this.props.firebase.user(socialAuthUser.user.uid).set({\r\n                    username: socialAuthUser.user.displayName,\r\n                    email: socialAuthUser.user.email,\r\n                    roles: {}\r\n                });\r\n            })\r\n            .then(() => {\r\n                this.setState({ error: null });\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n\r\n        event.preventDefault();\r\n    };\r\n    render() {\r\n        const { error } = this.state;\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <button class=\"btn btn-primary my-2\" type=\"submit\">\r\n                    Sign In with Google\r\n        </button>\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nclass SignInFacebookBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { error: null };\r\n    }\r\n    onSubmit = event => {\r\n        this.props.firebase\r\n            .doSignInWithFacebook()\r\n            .then(socialAuthUser => {\r\n                return this.props.firebase.user(socialAuthUser.user.uid).set({\r\n                    username: socialAuthUser.additionalUserInfo.profile.name,\r\n                    email: socialAuthUser.additionalUserInfo.profile.email,\r\n                    roles: {}\r\n                });\r\n            })\r\n            .then(() => {\r\n                this.setState({ error: null });\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n        event.preventDefault();\r\n    };\r\n    render() {\r\n        const { error } = this.state;\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <button class=\"btn btn-primary my-2\" type=\"submit\">\r\n                    Sign In with Facebook\r\n        </button>\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nclass SignInTwitterBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { error: null };\r\n    }\r\n    onSubmit = event => {\r\n        this.props.firebase\r\n            .doSignInWithTwitter()\r\n            .then(socialAuthUser => {\r\n                return this.props.firebase.user(socialAuthUser.user.uid).set({\r\n                    username: socialAuthUser.additionalUserInfo.profile.name,\r\n                    email: socialAuthUser.additionalUserInfo.profile.email,\r\n                    roles: {}\r\n                });\r\n            })\r\n            .then(() => {\r\n                this.setState({ error: null });\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n        event.preventDefault();\r\n    };\r\n    render() {\r\n        const { error } = this.state;\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <button class=\"btn btn-primary my-2\" type=\"submit\">\r\n                    Sign In with Twitter\r\n        </button>\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst SignInTwitter = withFirebase(SignInTwitterBase);\r\nconst SignInFacebook = withFirebase(SignInFacebookBase);\r\nconst SignInForm = withRouter(withFirebase(SignInFormBase));\r\nconst SignInGoogle = withFirebase(SignInGoogleBase);\r\nexport default SignIn;\r\nexport { SignInForm, SignInGoogle, SignInFacebook };\r\n","import React, { Component } from \"react\";\r\nimport { withFirebase } from \"../Firebase\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst INITIAL_STATE = {\r\n    username: \"\",\r\n    email: \"\",\r\n    passwordOne: \"\",\r\n    passwordTwo: \"\",\r\n    balance: 0,\r\n    error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n    onSubmit = (event) => {\r\n        const { username, email, passwordOne, balance } = this.state;\r\n        this.props.firebase\r\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then((authUser) => {\r\n                // Create a user in your Firebase realtime database\r\n                this.props.firebase.user(authUser.user.uid).set({\r\n                    username,\r\n                    email,\r\n                    passwordOne,\r\n                    balance\r\n                });\r\n                this.props.history.push(\"/login\");\r\n            })\r\n            .then(() => {\r\n                this.setState({ ...INITIAL_STATE });\r\n            })\r\n            .catch((error) => {\r\n                this.setState({ error });\r\n            });\r\n        event.preventDefault();\r\n    };\r\n    onChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n    render() {\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            passwordTwo,\r\n            error,\r\n        } = this.state;\r\n\r\n        const isInvalid =\r\n            passwordOne !== passwordTwo ||\r\n            passwordOne === \"\" ||\r\n            email === \"\" ||\r\n            username === \"\";\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <div class=\"row justify-content-center bg-white p-5\">\r\n                    <h1>Sign Up</h1>\r\n                </div>\r\n                <div class=\"row justify-content-center bg-white\">\r\n                    <div className=\"col-6\">\r\n                        <input\r\n                            name=\"username\"\r\n                            class=\"col-12 my-2\"\r\n                            value={username}\r\n                            onChange={this.onChange}\r\n                            type=\"text\"\r\n                            placeholder=\"Full Name\"\r\n                        />\r\n                        <input\r\n                            name=\"email\"\r\n                            class=\"col-12 my-2\"\r\n                            value={email}\r\n                            onChange={this.onChange}\r\n                            type=\"text\"\r\n                            placeholder=\"Email Address\"\r\n                        />\r\n                        <input\r\n                            name=\"passwordOne\"\r\n                            class=\"col-12 my-2\"\r\n                            value={passwordOne}\r\n                            onChange={this.onChange}\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                        <input\r\n                            name=\"passwordTwo\"\r\n                            class=\"col-12 my-2\"\r\n                            value={passwordTwo}\r\n                            onChange={this.onChange}\r\n                            type=\"password\"\r\n                            placeholder=\"Confirm Password\"\r\n                        />\r\n                        <button\r\n                            class=\"btn btn-primary col-12 my-2\"\r\n                            disabled={isInvalid}\r\n                            type=\"submit\"\r\n                        >\r\n                            Sign Up\r\n            </button>\r\n                        {error && <p>{error.message}</p>}\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(withFirebase(SignUpFormBase));\r\n","import React, { Component } from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Firebase from \"../Firebase\";\r\nimport { Link } from 'react-router-dom';\r\nimport SignOut from '../SignOut';\r\n\r\n\r\nclass NavAuth extends Component {\r\n    componentDidUpdate() {\r\n        //console.log(this.props.firebase);\r\n    }\r\n    render() {\r\n        let location = \"/profile\";\r\n        return (\r\n            <div>\r\n                <Link\r\n                    to=\"/vendorcart\" className=\"btn btn-dark \">{this.props.username}\r\n                </Link>\r\n                <Link\r\n                    to=\"/AddItems\"\r\n                 className=\"btn btn-dark \">Manage Items\r\n                </Link>\r\n                <SignOut />\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default NavAuth;","import React, { Component } from 'react';\r\nimport Login from '../Login';\r\nimport SignUp from '../SignUp';\r\nimport NavAuth from './NavAuth';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass Navigation extends Component {\r\n    render() {\r\n        return (\r\n            <div><br />\r\n                <div className=\"row justify-content-center justify-content-sm-end\"><br />\r\n\r\n                    {this.props.user ? <NavAuth authUser={this.props.user} username={this.props.username} /> :\r\n\r\n                        <div className=\"btn-group\">\r\n\r\n                            <Link className=\" btn btn-warning\" to=\"/Login\">LOGIN</Link>\r\n                            <Link className=\"btn btn-warning\" to=\"/SignUp\">SIGNUP</Link>\r\n\r\n                        </div>}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Navigation;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withFirebase } from \"./Firebase\";\r\nimport Navigation from \"./Navigation\";\r\nclass Navbar extends Component {\r\n  render() {\r\n    return (\r\n      <div class=\"d-flex bd-highlight bg-dark col-12\"  >\r\n        <div class=\"text-danger bd-highlight font-weight-bold navbar-brand pt-2\">DINE-SQUARE</div>\r\n        <div class=\"ml-auto p-1 bd-highlight\"><Navigation user={this.props.user} username={this.props.username}></Navigation></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(Navbar);\r\n","import React, { Component } from \"react\";\r\nimport { withFirebase } from \"./Firebase\";\r\nimport Login from \"./Login\"\r\n//import \"./addItems.css\";\r\n\r\n/**\r\n * @summary\r\n * AddItems is a Component to edit Items in database on firebase.\r\n *\r\n * @description\r\n * AddItems Component is used to easily insert and modify data in the firebase realtime database without requiring to work in JSON.\r\n *\r\n *\r\n */\r\nclass AddItems extends Component {\r\n  /**\r\n   * @summary\r\n   * This is the state of the component.\r\n   *\r\n   * @description\r\n   * state contains data about.\r\n   *\r\n   */\r\n  state = {\r\n    fetchedData: null,\r\n    items: null,\r\n    vendors: [], //all Vendors\r\n    selectedVendor: null, //Selected Vendor\r\n    allSizes: [], //All Sizes\r\n    selectedSizes: [], //Selected Sizes\r\n    unselectedSizes: [], //Sizes that are currently unselected\r\n    selectedCategories: [], //Selected Categories\r\n    searchedCategories: [], //Currently Searched Categories\r\n    allCategories: [], //All Categories\r\n    username:null\r\n  };\r\n  addToSelectedPrices = (item) => {\r\n    var unselectedSizes = this.state.unselectedSizes;\r\n    for (var i = 0; i < unselectedSizes.length; i++) {\r\n      if (item[\"id\"] == unselectedSizes[i][\"id\"]) {\r\n        unselectedSizes.splice(i, 1);\r\n      }\r\n    }\r\n    var selectedSizes = this.state.selectedSizes;\r\n    console.log(item);\r\n    selectedSizes.push(item);\r\n    this.setState({\r\n      selectedSizes: selectedSizes,\r\n      unselectedSizes: unselectedSizes,\r\n    });\r\n  };\r\n\r\n  addToSelectedCategories = (item) => {\r\n    var i = 0;\r\n    let categories = this.state.selectedCategories;\r\n    for (i = 0; i < categories.length; i++) {\r\n      if (categories[i][\"id\"] == item[\"id\"]) {\r\n        return;\r\n      }\r\n    }\r\n    categories.push(item);\r\n    this.setState({ selectedCategories: categories });\r\n  };\r\n  addNewCategory = () => {\r\n    var value = document.getElementById(\"categoryName\").value;\r\n    document.getElementById(\"categoryName\").value = \"\";\r\n    if (value != \"\") {\r\n      var updates = {};\r\n      var key = this.props.firebase.db\r\n        .ref()\r\n        .child(\"public/menuCategories\")\r\n        .push().key;\r\n\r\n      updates[\"public/menuCategories/\" + key] = { name: value };\r\n      return this.props.firebase.db.ref().update(updates);\r\n    } else {\r\n      alert(\"Check Data\");\r\n    }\r\n  };\r\n  addNewSize = () => {\r\n    var value = document.getElementById(\"sizeName\").value;\r\n    if (value != \"\") {\r\n      document.getElementById(\"sizeName\").value = \"\";\r\n      var updates = {};\r\n      var key = this.props.firebase.db\r\n        .ref()\r\n        .child(\"public/sizeCategories\")\r\n        .push().key;\r\n\r\n      updates[\"public/sizeCategories/\" + key] = value;\r\n      return this.props.firebase.db.ref().update(updates);\r\n    } else {\r\n      alert(\"Check Data\");\r\n    }\r\n  };\r\n  addNewVendor = () => {\r\n    var value = document.getElementById(\"vendorName\").value;\r\n    if (value != \"\") {\r\n      document.getElementById(\"vendorName\").value = \"\";\r\n      var updates = {};\r\n      var key = this.props.firebase.db.ref().child(\"public/vendors\").push().key;\r\n\r\n      updates[\"public/vendors/\" + key] = { name: value };\r\n      return this.props.firebase.db.ref().update(updates);\r\n    } else {\r\n      alert(\"Check Data\");\r\n    }\r\n  };\r\n  /*changeVendor = (vendor) => {\r\n    //change vendor here\r\n    this.setState({ selectedVendor: vendor });\r\n    //var vendors = this.state.vendors;\r\n    //if (this.state.selectedVendor != null) {\r\n    //  vendors.push(this.state.selectedVendor);\r\n    // }\r\n    //this.setState({ selectedVendor: vendor, vendors: vendors });\r\n  };*/\r\n  componentDidUpdate(){\r\n    console.log(this.props)\r\n    if(this.state.username!=this.props.username) {\r\n    this.setState({username:this.props.username})\r\n  }}\r\n  componentDidMount() {\r\n    if(this.state.username!=this.props.username) {\r\n      this.setState({username:this.props.username,selectedVendor:this.props.username})\r\n    }\r\n    this.fetchData();\r\n  }\r\n  dataListener = () => {\r\n    this.props.firebase.db.ref(\"public\").on(\"value\", (snapshot) => {\r\n      console.log(\"updated\");\r\n      var res = snapshot.val();\r\n      //console.log(res);\r\n\r\n      var allCategories = [];\r\n      Object.keys(res[\"menuCategories\"]).forEach((key) => {\r\n        //allCategories.push({ key: res[\"menuCategories\"][key] });\r\n        //allCategories[key] = res[\"menuCategories\"][key];\r\n        allCategories.push({ id: key, value: res[\"menuCategories\"][key] });\r\n      });\r\n\r\n      console.log(this.props)\r\n      var vendors = [];\r\n      console.log(res[\"vendors\"]);\r\n      Object.keys(res[\"vendors\"]).forEach((key) => {\r\n        if(this.state.username==res[\"vendors\"][key][\"name\"])\r\n        {\r\n        //vendors.push(value);\r\n        //vendors[key] = res[\"vendors\"][key];\r\n        vendors.push({ id: key, value: res[\"vendors\"][key] });\r\n       \r\n        }\r\n      });\r\n\r\n      var allSizes = [];\r\n      Object.keys(res[\"sizeCategories\"]).forEach((key) => {\r\n        allSizes.push({ id: key, value: res[\"sizeCategories\"][key] });\r\n      });\r\n\r\n      var items = [];\r\n      Object.keys(res[\"items\"]).forEach((key) => {\r\n        //allCategories.push({ key: res[\"menuCategories\"][key] });\r\n        //allCategories[key] = res[\"menuCategories\"][key];\r\n        items.push({ id: key, value: res[\"items\"][key] });\r\n      });\r\n      console.log(vendors);\r\n\r\n      this.setState({\r\n        fetchedData: res,\r\n        items: items,\r\n        searchedCategories: allCategories,\r\n        allCategories: allCategories,\r\n        vendors: vendors,\r\n        unselectedSizes: allSizes,\r\n        allSizes: allSizes,\r\n        selectedSizes: [],\r\n      });\r\n    });\r\n  };\r\n  deleteItem = (item) => {\r\n    this.props.firebase.db.ref(\"/public/items/\" + item).remove();\r\n  };\r\n  fetchData = () => {\r\n    this.dataListener();\r\n    /*fetch(\"https://canteen-ordering-3d30c.firebaseio.com/public.json\")\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        var searchedCategories = [];\r\n        Object.values(res[\"menuCategories\"]).forEach(value => {\r\n          searchedCategories.push(value);\r\n        });\r\n\r\n        var vendors = [];\r\n        Object.values(res[\"vendors\"]).forEach(value => {\r\n          vendors.push(value);\r\n        });\r\n\r\n        var unselectedSizes = [];\r\n        Object.values(res[\"sizeCategories\"]).forEach(value => {\r\n          unselectedSizes.push(value);\r\n        });\r\n\r\n        this.setState({\r\n          fetchedData: res,\r\n          searchedCategories: searchedCategories,\r\n          vendors: vendors,\r\n          unselectedSizes: unselectedSizes\r\n        });\r\n      });*/\r\n  };\r\n  processCategoryInput = () => {\r\n    var input = document.getElementById(\"categoryInput\").value;\r\n    input = input.toUpperCase();\r\n    var flag = false;\r\n    var categories = this.state.allCategories;\r\n    //if (input.length != 0) {\r\n    Object.values(categories).forEach((obj) => {\r\n      var value = obj[\"name\"].toUpperCase();\r\n      console.log(value);\r\n      for (var j = 0; j < value.length; j++) {\r\n        console.log(input);\r\n        if (input[0] == value[j]) {\r\n          flag = true;\r\n          console.log(\"debug\");\r\n          for (var l = 0; l < input.length; l++) {\r\n            if (value[j + l] != input[l]) {\r\n              flag = false;\r\n              break;\r\n            }\r\n          }\r\n          if (flag == true) {\r\n            categories.push(obj);\r\n            console.log(\"debug\");\r\n            break;\r\n          }\r\n        }\r\n        if (input.length == 0) {\r\n          categories.push(obj);\r\n          console.log(\"debug\");\r\n          break;\r\n        }\r\n      }\r\n    });\r\n    //} else {\r\n    //categories = allCategories;\r\n    // }\r\n    this.setState({ searchedCategories: categories });\r\n  };\r\n  removeFromCategory = (item) => {\r\n    var i = 0;\r\n    let categories = this.state.selectedCategories;\r\n    for (i = 0; i < categories.length; i++) {\r\n      if (categories[i][\"id\"] == item[\"id\"]) {\r\n        categories.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({ selectedCategories: categories });\r\n  };\r\n  removeFromSelectedSizes = (item) => {\r\n    var selectedSizes = this.state.selectedSizes;\r\n    var unselectedSizes = this.state.unselectedSizes;\r\n    unselectedSizes.push(item);\r\n    for (var i = 0; i < selectedSizes.length; i++) {\r\n      if (selectedSizes[i][\"id\"] == item[\"id\"]) {\r\n        selectedSizes.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      selectedSizes: selectedSizes,\r\n      unselectedSizes: unselectedSizes,\r\n    });\r\n  };\r\n  validateData = (name, vendor, categories, sizes) => {\r\n    if (name == \"\") {\r\n      return false;\r\n    }\r\n    if (vendor == null) {\r\n      return false;\r\n    }\r\n    if (categories.length == 0) {\r\n      return false;\r\n    }\r\n    for (var i = 0; i < sizes.length; i++) {\r\n      if (document.getElementById(sizes[i][\"value\"]).value == \"\") {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n  sendItem = () => {\r\n    var name = document.getElementById(\"itemName\").value;\r\n    var time = document.getElementById(\"estimatedTime\").value;\r\n    var vendor = this.state.selectedVendor;\r\n    var veg = document.getElementById(\"veg\").checked;\r\n    var categories = this.state.selectedCategories;\r\n    var sizes = this.state.selectedSizes;\r\n    if (this.validateData(name, vendor, categories, sizes)) {\r\n      document.getElementById(\"itemName\").value = \"\";\r\n\r\n      var prices = {};\r\n      for (var i = 0; i < sizes.length; i++) {\r\n        prices[sizes[i][\"id\"]] = {\r\n          size: sizes[i][\"value\"],\r\n          price: document.getElementById(sizes[i][\"value\"]).value,\r\n          //enabled:true\r\n        };\r\n      }\r\n\r\n      var menuCategories = {};\r\n      for (var i = 0; i < categories.length; i++) {\r\n        menuCategories[categories[i][\"id\"]] = categories[i][\"value\"];\r\n      }\r\n      var itemData = {\r\n        name: name,\r\n        time:time,\r\n        veg: veg,\r\n        vendor: vendor,\r\n        price: prices,\r\n        menuCategories: menuCategories,\r\n        enabled:true\r\n      };\r\n      console.log(itemData);\r\n      var key = this.props.firebase.db.ref().child(\"public/items\").push().key;\r\n      console.log(key);\r\n      var updates = {};\r\n      updates[\"public/items/\" + key] = itemData;\r\n      return this.props.firebase.db.ref().update(updates);\r\n    } else {\r\n      alert(\"Check Data\");\r\n    }\r\n  };\r\n  showData = () => {\r\n    if (this.state.items == null) {\r\n      return (\r\n        <div className=\"card bg-light shadow\">\r\n          <div className=\"card-body px-2 text-dark\">\r\n            <h3 className=\"card-title py-0 my-0\">Menu Items</h3>\r\n            <div className=\"py-0 my-0 my-auto border-top\">Loading Items</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div className=\"card bg-light shadow\">\r\n            <div className=\"card-body px-2 text-dark\">\r\n              <h3 className=\"card-title py-0 my-0\">Menu Items</h3>\r\n\r\n              <div className=\"d-flex\">\r\n                <div className=\"col-4\">Name</div>\r\n                <div className=\"col-2\">Vendor</div>\r\n                <div className=\"col-3\">Categories</div>\r\n                <div className=\"col-3\">sizes</div>\r\n              </div>\r\n              {Object.keys(this.state.items).map((item) => {\r\n                return(\r\n                  (this.state.username==this.state.items[item][\"value\"][\"vendor\"])?\r\n                  <div className=\"card \">\r\n                    <div className=\"card-body d-flex bg-white text-dark border-top py-1\">\r\n                      <div className=\"col-4 font-weight-bold\">\r\n                        <div>{this.state.items[item][\"value\"][\"name\"]}</div>\r\n                        <button\r\n                          className=\"bg-danger rounded px-2 border text-white\"\r\n                          onClick={() => {\r\n                            this.deleteItem(this.state.items[item][\"id\"]);\r\n                          }}\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                        {this.state.items[item][\"value\"].enabled?\r\n                        <button\r\n                          className=\"bg-danger rounded px-2 border text-white\"\r\n                          onClick={() => {\r\n                            var update = {}\r\n                            update[\"public/items/\"+this.state.items[item][\"id\"]+\"/enabled\"]=false\r\n                            return this.props.firebase.db.ref().update(update);\r\n                          }}\r\n                        >\r\n                          Hold Sale\r\n                        </button>:\r\n                        <button\r\n                          className=\"bg-primary rounded px-2 border text-white\"\r\n                          onClick={() => {\r\n                            var update = {}\r\n                            update[\"public/items/\"+this.state.items[item][\"id\"]+\"/enabled\"]=true\r\n                            return this.props.firebase.db.ref().update(update);\r\n                          }}\r\n                        >\r\n                          Resume Sale\r\n                        </button>}\r\n                      </div>\r\n                      <div className=\"col-2\">\r\n                        {this.state.items[item][\"value\"][\"vendor\"]}\r\n                      </div>\r\n                      <div className=\"col-3\">\r\n                        {Object.keys(\r\n                          this.state.items[item][\"value\"][\"menuCategories\"]\r\n                        ).map((category) => {\r\n                          return (\r\n                            <div className=\"d-inline-flex bg-light rounded text-muted px-2\">\r\n                              {\r\n                                this.state.items[item][\"value\"][\r\n                                  \"menuCategories\"\r\n                                ][category][\"name\"]\r\n                              }\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                      <div className=\"col-3\">\r\n                        {Object.keys(\r\n                          this.state.items[item][\"value\"][\"price\"]\r\n                        ).map((size) => {\r\n                          return (\r\n                            <div className=\"d-flex\">\r\n                              <div className=\"col-6 bg-primary rounded-left text-white px-2\">\r\n                                {\r\n                                  this.state.items[item][\"value\"][\"price\"][\r\n                                    size\r\n                                  ][\"size\"]\r\n                                }\r\n                              </div>\r\n                              <div className=\"col-6 bg=primary flex-grow-1 rounded-right  text-black bg-light px-2\">\r\n                                {\r\n                                  this.state.items[item][\"value\"][\"price\"][\r\n                                    size\r\n                                  ][\"price\"]\r\n                                }\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  </div>:<div>\r\n                    </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  showSelectedCategories = () => {\r\n    if (this.state.selectedCategories.length == 0) {\r\n      return <div className=\"text-muted\">No selected Categories</div>;\r\n    } else {\r\n      return (\r\n        <div className=\"row px-3\">\r\n          {this.state.selectedCategories.map((item) => (\r\n            <button\r\n              className=\"btn  mx-1 mt-1 btn-primary text-light\"\r\n              key={item[\"id\"]}\r\n              onClick={() => {\r\n                this.removeFromCategory(item);\r\n              }}\r\n            >\r\n              {item[\"value\"][\"name\"]}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  showSelectedVendor = () => {\r\n    if (this.state.selectedVendor != null) {\r\n      return (\r\n        <button className=\"btn btn-primary m-1\">\r\n          {this.state.selectedVendor}\r\n        </button>\r\n      );\r\n    }\r\n  };\r\n  showVendors = () => {\r\n    if (this.state.fetchedData == null) {\r\n      return <div>Loading Vendors</div>;\r\n    } else\r\n      return (\r\n        <div>\r\n          {Object.values(this.state.fetchedData[\"vendors\"]).forEach((value) => (\r\n            <div>{value}</div>\r\n          ))}\r\n        </div>\r\n      );\r\n  };\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"row col-12 my-2\">\r\n        {/**\r\n         * Showing current items here\r\n         */}\r\n        <div className=\"col-8\" id=\"databaseItems\">\r\n          {\r\n            /*Object.keys(this.state.fetchedData).map(menuCategories => {\r\n            console.log(this.state.fetchedData);\r\n            return <div>data</div>;\r\n          })*/\r\n            this.showData()\r\n          }\r\n        </div>\r\n        {/**\r\n         * entering new items here\r\n         */}\r\n        <div className=\"col-4 bg-light shadow\">\r\n          <div className=\"card my-2\">\r\n            <div className=\"card-body px-2 \" id=\"addItemInterface\">\r\n              <div className=\"d-flex\">\r\n                <h3>Insert Items</h3>\r\n              </div>\r\n              {/* -----Name here----- */}\r\n              <div className=\"border-top mt-2\">\r\n                <div className=\"font-weight-bold\">Name</div>\r\n                <input\r\n                  className=\"col-12\"\r\n                  id=\"itemName\"\r\n                  type=\"text\"\r\n                  placeholder=\"Name of item...\"\r\n                ></input>\r\n              </div>\r\n               {/* -----Time here----- */}\r\n               <div className=\"border-top mt-2\">\r\n                <div className=\"font-weight-bold\">Estimated Time</div>\r\n                <input\r\n                  className=\"col-12\"\r\n                  id=\"estimatedTime\"\r\n                  type=\"text\"\r\n                  placeholder=\"Estimated time to prepare...\"\r\n                ></input>\r\n              </div>\r\n              {/* -----vendors here----- */}\r\n              <div className=\"border-top mt-2\">\r\n               {/* <div className=\"font-weight-bold\">\r\n                  Vendor{this.showSelectedVendor()}\r\n                </div>*/}\r\n                {\r\n                  //this.showVendors()\r\n                  this.state.vendors.map((item) => (  <button\r\n                        className=\"btn btn-primary m-1\"\r\n                        \r\n                      >\r\n                        {item[\"value\"][\"name\"]}\r\n                      </button>)\r\n                    \r\n    )\r\n                }\r\n              </div>\r\n              {/* -----Veg/Non Veg here----- */}\r\n              <div className=\"border-top mt-2\">\r\n                <div className=\"font-weight-bold\">Veg/Non-Veg</div>\r\n                <input id=\"veg\" type=\"checkbox\" name=\"veg\"></input>\r\n                <label for=\"veg\"> Veg</label>\r\n              </div>\r\n              {/* -----categories here----- */}\r\n              <div className=\"border-top mt-2\">\r\n                <div className=\"font-weight-bold\">Select Categories</div>\r\n                <div id=\"selectedCategories\">\r\n                  {this.showSelectedCategories()}\r\n                </div>\r\n                <div id=\"addCategories\" class=\"dropdown\">\r\n                  <input\r\n                    className=\"col-12 mt-1\"\r\n                    type=\"text\"\r\n                    placeholder=\"Search for Categories...\"\r\n                    id=\"categoryInput\"\r\n                    onKeyUp={() => {\r\n                      this.processCategoryInput();\r\n                    }}\r\n                  ></input>\r\n                  <div className=\"col-12\">\r\n                    <div className=\"dropdown-content row mt-1\">\r\n                      {this.state.searchedCategories.map((item) => (\r\n                        <button\r\n                          className=\"btn bg-secondary text-light mx-1 mt-1\"\r\n                          onClick={() => {\r\n                            this.addToSelectedCategories(item);\r\n                          }}\r\n                        >\r\n                          {item[\"value\"][\"name\"]}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* -----Sizes Here----- */}\r\n              <div className=\"border-top mt-2\">\r\n                <div className=\"font-weight-bold\">Sizes</div>\r\n                <div>\r\n                  {this.state.selectedSizes.map((item) => (\r\n                    <div className=\"btn-group col-12\">\r\n                      <button\r\n                        className=\"btn col-4 btn-primary\"\r\n                        onClick={() => {\r\n                          this.removeFromSelectedSizes(item);\r\n                        }}\r\n                      >\r\n                        {item[\"value\"]}\r\n                      </button>\r\n                      <input\r\n                        className=\"flex-grow-1\"\r\n                        id={item[\"value\"]}\r\n                        type=\"number\"\r\n                      ></input>\r\n                    </div>\r\n                  ))}\r\n                  {this.state.unselectedSizes.map((item) => (\r\n                    <button\r\n                      className=\"btn btn-secondary m-1\"\r\n                      onClick={() => {\r\n                        this.addToSelectedPrices(item);\r\n                      }}\r\n                    >\r\n                      {item[\"value\"]}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex justify-content-center border-top mt-2 pt-2\">\r\n                <button\r\n                  className=\"btn btn-primary font-weight-bold\"\r\n                  onClick={() => {\r\n                    this.sendItem();\r\n                  }}\r\n                >\r\n                  Insert Item\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"card my-2\">\r\n            {/* -----Categories Here----- */}\r\n            <div className=\"card-body col-12\">\r\n              <h3>Add Categories</h3>\r\n              <div className=\"btn-group col-12 mx-0 px-0\">\r\n                <input\r\n                  className=\"flex-grow-1\"\r\n                  id=\"categoryName\"\r\n                  placeholder=\"Name of Category\"\r\n                ></input>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => {\r\n                    this.addNewCategory();\r\n                  }}\r\n                >\r\n                  Add Category\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {/* -----Add Sizes----- */}\r\n            <div className=\"card-body col-12\">\r\n              <h3>Add Sizes</h3>\r\n              <div className=\"btn-group col-12 mx-0 px-0\">\r\n                <input\r\n                  className=\"flex-grow-1\"\r\n                  id=\"sizeName\"\r\n                  placeholder=\"Size...\"\r\n                ></input>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => {\r\n                    this.addNewSize();\r\n                  }}\r\n                >\r\n                  Add Size\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {/* -----Add Vendors----- */}\r\n           {/* <div className=\"card-body col-12\">\r\n              <h3>Add Vendor</h3>\r\n              <div className=\"btn-group col-12 mx-0 px-0\">\r\n                <input\r\n                  className=\"flex-grow-1\"\r\n                  id=\"vendorName\"\r\n                  placeholder=\"Size...\"\r\n                ></input>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => {\r\n                    this.addNewVendor();\r\n                  }}\r\n                >\r\n                  Add Vendor\r\n                </button>\r\n              </div>\r\n            </div>*/}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-4\" id=\"addOtherInterface\"></div>\r\n      </div>\r\n    );\r\n   \r\n  }\r\n}\r\n\r\nexport default withFirebase(AddItems);\r\n","import React, { Component } from \"react\";\r\nimport { withFirebase } from \"./Firebase\";\r\nclass AddBalance extends Component{\r\n    state={\r\n        users:{},\r\n        search:\"\",\r\n        activeKey:null\r\n    }\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n    }\r\n    check = (a, b) => {\r\n        a = a.toLowerCase();\r\n        //console.log(a);\r\n        b = b.toLowerCase();\r\n       // console.log(b);\r\n        if (b.includes(a)) return true;\r\n        else return false;\r\n      };\r\n      componentDidMount(){\r\n          this.fetchDetails()\r\n      }\r\n      componentDidUpdate(){\r\n          if(this.state.activeKey!=null)\r\n          {\r\n           console.log(document.getElementById('bal').value)\r\n          console.log(this.state.users[this.state.activeKey][\"balance\"]);\r\n          }\r\n      }\r\n    fetchDetails(){ \r\n        this.props.firebase.db.ref(\"users/\")\r\n        .once(\"value\")\r\n        .then((snapshot)=>{\r\n            const users=snapshot.val();\r\n            this.setState({users:users});\r\n            //console.log(this.state.users);\r\n           \r\n            })\r\n        }\r\n        addBalance(){\r\n            if(this.state.activeKey!=null)\r\n            {\r\n                console.log(this.state.users[this.state.activeKey][\"balance\"])\r\n                this.state.users[this.state.activeKey][\"balance\"]+=parseInt(document.getElementById('bal').value);\r\n                this.props.firebase.db.ref('users/' + this.state.activeKey).set({\r\n                   balance:this.state.users[this.state.activeKey][\"balance\"],   \r\n                    email:this.state.users[this.state.activeKey][\"email\"],\r\n                    passwordOne:this.state.users[this.state.activeKey][\"passwordOne\"], \r\n                    username:this.state.users[this.state.activeKey][\"username\"]\r\n                  });\r\n                  \r\n                console.log(this.state.users[this.state.activeKey][\"balance\"])\r\n                this.setState({activeKey:null})\r\n                document.getElementById('bal').value=\"\"\r\n            }\r\n        }\r\n        showDetails(){\r\n            \r\n                return(\r\n                <div className=\"card shadow bg-dark rounded \">\r\n                    <div className=\"card m-2 p-2 bg-light\">\r\n                        \r\n                        {Object.keys(this.state.users).map((userKey)=>{\r\n                            \r\n                            if(this.check(this.state.search,this.state.users[userKey].email))\r\n                            return(\r\n                            <div className=\"d-flex col-12 m-2 p-2 \">\r\n                                <div className=\"col-5\"><h5>{this.state.users[userKey].username}</h5></div>\r\n                                <div className=\"col-5\"><h5>{this.state.users[userKey].email}</h5></div>\r\n                                <div className=\"col-2 btn btn-primary\" data-toggle=\"modal\" data-target=\"#staticBackdrop\" style={{ height: 40 }} onClick={()=>{this.setState({activeKey:userKey})}}>Add Balance</div>\r\n                                \r\n                            </div>)\r\n                       \r\n                        }) } \r\n                      </div> \r\n                     \r\n                </div>)\r\n            \r\n\r\n        }\r\n        showModal(){\r\n            return (\r\n                <div class=\"modal fade  \" id=\"staticBackdrop\" data-backdrop=\"static\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\" keyboard=\"false\">\r\n                    <div class=\"modal-dialog modal-dialog-centered \" role=\"document\">\r\n                    \r\n                        <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n                                    \r\n                        <div><h5>{this.state.activeKey!=null?<div>{this.state.users[this.state.activeKey][\"email\"]}</div>:<div></div>}</h5></div>\r\n                        </div>\r\n                            <div class=\"modal-body\">\r\n                            <input  id=\"bal\" placeholder=\"Enter balance\" class=\"col-12 my-2\"  /> \r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={()=>{document.getElementById('bal').value=\"\";this.setState({activeKey:null})}}>Close</button>\r\n                                <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" onClick={() => { this.addBalance() }}>Enable</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    render(){\r\n        return(\r\n            <div>\r\n                <div>\r\n                    {this.showModal()}\r\n                </div>\r\n                <div class=\"row bg-white mt-3\">\r\n                <div class=\"col-6 ml-5\">\r\n            \r\n                    <input id=\"email\" placeholder=\"Enter UserEmail\" class=\"col-12 my-2\" id=\"email\" onChange={()=>{\r\n                        var value = document.getElementById(\"email\").value\r\n                        this.setState({search:value})}}/>\r\n        \r\n                </div>\r\n                <div>\r\n                    {/*<div className=\"btn btn-primary\" onClick={() => { this.fetchDetails() }}>Show details</div>*/}\r\n                </div>\r\n                </div>\r\n                <div class=\"row \">\r\n                {/*<div class=\"col-6 ml-5\" >\r\n\r\n                    <input placeholder=\"Enter Balance to be added to previous amount\" class=\"col-12 my-2\"/>\r\n                </div>*/}\r\n                </div>\r\n                <div>\r\n                    {this.showDetails()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withFirebase(AddBalance);","import React, { Component } from \"react\";\r\nimport { withFirebase } from \"./Firebase\";\r\nimport Login from \"./Login\";\r\n\r\nclass Vendorcartpage extends Component {\r\n    state = {\r\n        display: null,\r\n        data: null,\r\n        items: null,\r\n        vendor: null,\r\n        orderVerified: false,\r\n        vendors: null,\r\n        inputs:{}\r\n    };\r\n    componentDidUpdate() {\r\n        // this.filter()\r\n        console.log(this.state)\r\n        console.log(this.props)\r\n        if (this.state.vendor == null && this.props.vendor != null) {\r\n            this.setState({ vendor: this.props.vendor });\r\n            //return\r\n        }\r\n        if (this.state.display == null && this.state.data) {\r\n            this.setState({ display: true })\r\n            //return\r\n        }\r\n\r\n        if (this.state.data == null && this.state.vendor) {\r\n            this.fetchCart()\r\n            //return\r\n        }\r\n        /* if (this.state.items == null) {\r\n             this.fetchItems()\r\n             //return\r\n         }*/\r\n    }\r\n    componentDidMount() {\r\n        if (this.state.vendor == null) {\r\n            this.setState({ vendor: this.props.vendor });\r\n        }\r\n        this.fetchItems()\r\n        this.fetchVendors();\r\n    }\r\n    fetchVendors() {\r\n        this.props.firebase.db.ref(\"public/vendors\").once(\"value\")\r\n            .then((snapshot) => {\r\n                this.setState({ vendors: snapshot.val() })\r\n            })\r\n    }\r\n    fetchCart = () => {\r\n        this.props.firebase.db\r\n            .ref(\"vendors/\" + this.props.vendor)\r\n            .on(\"value\", (snapshot) => {\r\n                const item = snapshot.val();\r\n                console.log(item);\r\n                this.setState({ data: item });\r\n            });\r\n    };\r\n    fetchItems = () => {\r\n        this.props.firebase.db\r\n            .ref(\"public/items\")\r\n            .on(\"value\", (snapshot) => {\r\n                const item = snapshot.val();\r\n                console.log(item)\r\n                this.setState({ items: item });\r\n            });\r\n\r\n    };\r\n    itemReady(itemKey, cartKey, priceKey, uid) {\r\n        var updates = {}\r\n        updates[\"/users/\" + uid + \"/prevorders/\" + cartKey + \"/items/\" + itemKey + \"/\" + priceKey + \"/ready\"] = true;\r\n        updates[\"/vendors/\" + this.props.vendor + \"/ItemsToPrepare/\" + cartKey + \"/items/\" + itemKey + \"/\" + priceKey + \"/ready\"] = true\r\n        this.props.firebase.db.ref().update(updates)\r\n        /*this.props.firebase.db.ref(\"/users/\" + uid + \"/prevorders/\" + cartKey + \"/items/\" + itemKey + \"/\" + priceKey).set({\r\n            ready: true,\r\n            qty: this.state.data.ItemsToPrepare[cartKey].items[itemKey][priceKey][\"qty\"]\r\n        })*/\r\n\r\n    }\r\n    orderPickedUp(cartKey) {\r\n        let updates = {};\r\n        console.log(cartKey)\r\n        updates[\"/vendors/\" + this.props.vendor + \"/ItemsToPrepare/\" + cartKey] = null;\r\n        //updates[\"/users/\" + this.state.data.ItemsToPrepare[cartKey].userId + \"/prevorders/\" + cartKey + \"/items/\" + item]\r\n        {\r\n            Object.keys(this.state.data[\"ItemsToPrepare\"][cartKey].items).map((itemKey) => {\r\n\r\n                {\r\n                    Object.keys(this.state.data[\"ItemsToPrepare\"][cartKey].items[itemKey]).map((priceKey) => {\r\n                        updates[\"/users/\" + this.state.data.ItemsToPrepare[cartKey].userId + \"/prevorders/\" + cartKey + \"/items/\" + itemKey + \"/\" + priceKey + \"/taken\"] = true\r\n                    })\r\n                }\r\n\r\n            })\r\n        }\r\n        this.props.firebase.db.ref().update(updates);\r\n    }\r\n    showItems = () => {\r\n        if (this.state.display) {\r\n            if(this.state.data.ItemsToPrepare)\r\n            return (<div >\r\n                <div className=\"row shadow bg-light rounded\">\r\n                    {Object.keys(this.state.data[\"ItemsToPrepare\"]).map((cartKey) => (<div className=\"col-6 p-0 border\"><div className=\"col-12 h5\">{this.state.data[\"ItemsToPrepare\"][cartKey].username}</div>\r\n\r\n                        <div className=\"btn btn-secondary\">OTP: {this.state.data[\"ItemsToPrepare\"][cartKey].otp}</div>\r\n                        <div className=\"btn btn-danger\" id={cartKey + \"1\"} onClick={() => { this.orderPickedUp(cartKey) }}>Order Picked Up</div>\r\n                        {Object.keys(this.state.data[\"ItemsToPrepare\"][cartKey].items).map((itemKey) => (<div className=\" col-12 bg-light\">{\r\n                            Object.keys(this.state.data.ItemsToPrepare[cartKey].items[itemKey]).map((priceKey) => (<div className=\"d-flex col-12\">\r\n                                <div className=\"flex-grow-1\">{this.state.items[itemKey].name} ( {this.state.items[itemKey].price[priceKey].size} x {this.state.data.ItemsToPrepare[cartKey].items[itemKey][priceKey][\"qty\"]} )</div>\r\n\r\n                                <div className=\"d-flex\">\r\n                                    {this.state.data.ItemsToPrepare[cartKey].items[itemKey][priceKey].ready == true ?\r\n                                        (this.state.data.ItemsToPrepare[cartKey].items[itemKey][priceKey].taken == true ?\r\n                                            <button className=\"btn btn-sm btn-success\">Item Picked by User</button> :\r\n                                            <button className=\"btn btn-sm btn-success\">Item Ready</button>)\r\n                                        : <button type=\"button\" className=\"btn btn-sm btn-primary\" onClick={() => { this.itemReady(itemKey, cartKey, priceKey, this.state.data[\"ItemsToPrepare\"][cartKey][\"userId\"]) }}>\r\n                                            Set Item Ready\r\n                                        </button>}\r\n                                </div>\r\n                            </div>))}\r\n                        </div>\r\n                        )\r\n                        )}</div>)\r\n\r\n                    )}\r\n                </div>\r\n            </div >)\r\n            else return <div>Nothing to show</div>\r\n        }//chll reha\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div class=\"container \">\r\n                {/* <div>\r\n                    {this.showModal()}\r\n                </div>*/}\r\n                {/*<h2 class=\"section-header\">CART</h2>*/}\r\n                <h2 class=\"section-header\">ORDERS</h2>\r\n                <div className=\"card-body \">\r\n                    <div className=\"d-flex\">\r\n                        {/* <div className=\"col-4\"><h4>ITEM ( SIZE )</h4></div>\r\n                        <div className=\"col-3\"><h4>QUANTITY</h4></div>\r\n            <div className=\"col-4\"><h4>ORDER STATUS</h4></div>*/}\r\n\r\n                    </div>\r\n                    <div class=\"cart-items\">\r\n                        {this.showItems()}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default withFirebase(Vendorcartpage);","import React, { Component } from 'react';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.bundle.min.js\";\r\nimport { withFirebase } from \"./components/Firebase\";\r\n\r\nimport Navbar from \"./components/navbar\";\r\nimport Login from \"./components/Login\";\r\nimport SignUp from \"./components/SignUp\";\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport AddItems from './components/AddItems';\r\nimport AddBalance from './components/AddBalance'\r\nimport Vendorcartpage from \"./components/vendorcartpage\"\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    userData: null,\r\n    uid: null,\r\n    username: null,\r\n    users: {},\r\n    vendor: null\r\n  };\r\n  fetchUserData = () => {\r\n    this.props.firebase.auth.onAuthStateChanged((authUser) => {\r\n      if (authUser != this.state.userData)\r\n        authUser\r\n          ? this.setState({ userData: authUser })\r\n          : this.setState({ userData: null,username:null,vendor:null });\r\n    });\r\n  };\r\n  fetchUserName = () => {\r\n    if (this.state.userData != null) {\r\n      this.props.firebase.db\r\n        .ref(\"users/\" + this.state.userData.uid)\r\n        .once(\"value\")\r\n        .then((snapshot) => {\r\n          const data = snapshot.val()\r\n          const user =\r\n            (snapshot.val() && snapshot.val().username) || \"Anonymous\";\r\n\r\n          if (this.state.username != user) {\r\n            this.setState({ username: user, vendor: data.vendor });\r\n          }\r\n        });\r\n    }\r\n  };\r\n  componentDidUpdate() {\r\n    //console.log(this.state.userData.email);\r\n   // console.log(this.state.username);\r\n    this.fetchUserName();\r\n    this.fetchUserData();\r\n    //console.log(this.props.firebase.auth.username);\r\n  }\r\n  componentDidMount() {\r\n    this.fetchUserData();\r\n  }\r\n  render() {\r\n    if (this.state.username == \"admin\")\r\n      return (\r\n        <Router basename=\"/\">\r\n          <div>\r\n            <Navbar user={this.state.userData} username={this.state.username} />\r\n\r\n            <Switch>\r\n              <Route path=\"/Login\">\r\n                <Login />\r\n              </Route>\r\n              <Route path=\"/SignUp\">\r\n                <SignUp />\r\n              </Route>\r\n              <Route path=\"/AddBalance\">\r\n                <AddBalance />\r\n              </Route>\r\n              <Route path=\"/\">\r\n              {(this.state.userData!=null)?<AddBalance/>:<Login/>}\r\n              \r\n              </Route>\r\n            </Switch>\r\n\r\n\r\n\r\n\r\n          </div>\r\n        </Router>\r\n      );\r\n    else {\r\n      return (<Router basename=\"/\">\r\n        <div>\r\n          <Navbar user={this.state.userData} username={this.state.username} />\r\n          <Switch>\r\n            <Route path=\"/Login\">\r\n              <Login />\r\n            </Route>\r\n            <Route path=\"/SignUp\">\r\n              <SignUp />\r\n            </Route>\r\n            <Route path=\"/AddItems\">\r\n              {(this.state.username!=null)?<AddItems user={this.state.userData} username={this.state.username}/>:<div>Loading..</div>}\r\n              \r\n            </Route>\r\n            <Route path=\"/vendorcart\">\r\n            {(this.state.userData!=null)?<Vendorcartpage vendor={this.state.vendor} username={this.state.username}/>:<Login/>}\r\n            </Route>\r\n            <Route path=\"/\">\r\n            {(this.state.userData!=null)?<Vendorcartpage vendor={this.state.vendor} username={this.state.username}/>:<Login/>}\r\n            </Route>\r\n          </Switch> </div>\r\n      </Router>);\r\n    }\r\n  }\r\n}\r\n\r\nexport default withFirebase(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport Firebase, { FirebaseContext } from \"./components/Firebase\";\r\n\r\nReactDOM.render(\r\n  <FirebaseContext.Provider value={new Firebase()}>\r\n    <App />\r\n  </FirebaseContext.Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}